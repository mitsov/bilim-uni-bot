<test integration="true">

    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D0%AD%D1%85%D0%BE+%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D1%8B?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":12234,"name":"Эхо Москвы","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"eho-moskvy","website":"http://www.echo.msk.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":4,"title":"Talk \u0026 Speech","description":"talk \u0026 speech stations like normal talkshows and religous discuss.","slug":"talk-speech","ancestry":null}],"streams":[{"stream":"http://81.19.85.197/echo.mp3","bitrate":140,"content_type":"audio/mpeg","status":1,"listeners":3893}],"created_at":"2015-03-03T22:20:43+01:00","updated_at":"2017-07-18T14:28:40+02:00"},{"id":23596,"name":"Эхо Москвы - Екатеринбург 91.4 FM (Echo Mosvky Yekaterinburg)","country":"RU","image":{"url":"https://img.dirble.com/station/23596/8124b1fb-db93-4ce0-ba0f-2a1ab8974616.jpg","thumb":{"url":"https://img.dirble.com/station/23596/thumb_8124b1fb-db93-4ce0-ba0f-2a1ab8974616.jpg"}},"slug":"914-fm-eho-moskvy-ekaterinburg","website":"https://www.echoekb.ru","twitter":"echoekb","facebook":"https://www.facebook.com/echoekb/","total_listeners":0,"categories":[{"id":21,"title":"News","description":"","slug":"news","ancestry":"4"}],"streams":[{"stream":"http://online.echoekb.ru:8000/echoekb_aacplus","bitrate":64,"content_type":"audio/aacp","status":1,"listeners":0},{"stream":"http://online.echoekb.ru:8000/echoekb","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":0},{"stream":"http://online.echoekb.ru:8000/echoekb32","bitrate":32,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2016-01-12T07:52:08+01:00","updated_at":"2017-05-12T20:13:49+02:00"},{"id":38775,"name":"Радио Подмосковные вечера","country":"RU","image":{"url":"https://img.dirble.com/station/38775/podmoskovnie-vechera-180.jpg","thumb":{"url":"https://img.dirble.com/station/38775/thumb_podmoskovnie-vechera-180.jpg"}},"slug":"radio-podmoskovnye-vechera","website":"","twitter":"","facebook":"","total_listeners":39,"categories":[{"id":41,"title":"80s","description":"","slug":"80s","ancestry":"40"}],"streams":[{"stream":"http://setmedia.ru:8000/high5","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":39}],"created_at":"2016-11-27T12:58:56+01:00","updated_at":"2017-07-18T14:24:38+02:00"},{"id":38690,"name":"Радио Шансон","country":"RU","image":{"url":"https://img.dirble.com/station/38690/radio_shason.jpg","thumb":{"url":"https://img.dirble.com/station/38690/thumb_radio_shason.jpg"}},"slug":"radio-shanson","website":"http://radioshanson.fm","twitter":"","facebook":"","total_listeners":7074,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://chanson.hostingradio.ru:8041/chanson128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":7074}],"created_at":"2016-11-20T05:31:24+01:00","updated_at":"2017-07-18T14:31:50+02:00"},{"id":38711,"name":"Дорожное Радио","country":"RU","image":{"url":"https://img.dirble.com/station/38711/57b1b69df12a9.jpg","thumb":{"url":"https://img.dirble.com/station/38711/thumb_57b1b69df12a9.jpg"}},"slug":"dorozhnoe-radio","website":"https://dorognoe.ru","twitter":"","facebook":"","total_listeners":6009,"categories":[{"id":42,"title":"90s","description":"","slug":"90s","ancestry":"40"}],"streams":[{"stream":"http://dorognoe.hostingradio.ru:8000/dorognoe","bitrate":64,"content_type":"audio/mpeg","status":1,"listeners":6009}],"created_at":"2016-11-20T13:28:39+01:00","updated_at":"2017-07-18T14:31:51+02:00"},{"id":21316,"name":"96.0 FM - Дорожное радио","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"960-fm-dorozhnoe-radio","website":"","twitter":null,"facebook":null,"total_listeners":2143,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://dorognoe.hostingradio.ru:8000/radio","bitrate":256,"content_type":"audio/mpeg","status":1,"listeners":2143}],"created_at":"2015-12-18T19:39:41+01:00","updated_at":"2017-07-18T14:29:32+02:00"},{"id":22309,"name":"Radio Energija Zhizni","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"radio-energija-zhizni","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://s1.radioheart.ru:8041/nonstop","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":4}],"created_at":"2015-12-19T01:44:17+01:00","updated_at":"2017-07-18T14:29:41+02:00"},{"id":24594,"name":"My Radio - Russian Chanson","country":"UA","image":{"url":null,"thumb":{"url":null}},"slug":"my-radio-russian-chanson","website":"","twitter":null,"facebook":null,"total_listeners":113,"categories":[{"id":52,"title":"Oldies","description":"","slug":"oldies","ancestry":"44"}],"streams":[{"stream":"http://music.myradio.ua:8000/shanson128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":113}],"created_at":"2016-01-16T20:33:07+01:00","updated_at":"2017-07-18T14:30:00+02:00"},{"id":43027,"name":"D-FM","country":"EE","image":{"url":"https://img.dirble.com/station/43027/c175.png","thumb":{"url":"https://img.dirble.com/station/43027/thumb_c175.png"}},"slug":"d-fm","website":"http://www.dfm.ee/","twitter":null,"facebook":null,"total_listeners":242,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://striiming.trio.ee/dfm.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":242}],"created_at":"2017-02-17T01:01:47+01:00","updated_at":"2017-07-18T14:25:42+02:00"}, {"id":22512,"name":"Радио Кинозал {Tochka}","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"radio-kinozal-tochka","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://46.4.79.69:6135","bitrate":0,"content_type":"?","status":0,"listeners":0},{"stream":"http://s07.radio-tochka.com:6135/","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-19T01:45:49+01:00","updated_at":"2017-07-15T13:37:39+02:00"}]</response>
    </mockData>


    <test-case>
        <q>включи радио</q>
        <a>Скажи название радиостанции или музыкальный жанр - я поищу нужную волну.</a>
        <q>эрмитаж</q>
        <a>Похоже, я не могу найти нужную радиостанцию.</a>
        <q>включи радио эрмитаж</q>
        <a>Извини, кажется, я не могу найти эту радиостанцию.</a>
        <q>включи радио</q>
        <a>Скажи название радиостанции или музыкальный жанр - я поищу нужную волну.</a>
        <q>эхо москвы</q>        
        <responseData>{ 
            action: "radioOn",
            stream: "http://setmedia.ru:8000/high5"
        }</responseData>         
        <a>По запросу "Эхо Москвы" я нашёл "Радио Подмосковные вечера". Включаю.</a>

    </test-case>   

    <test-case>
        <q>включи радио эхо москвы</q>      
        <responseData>{ 
            action: "radioOn",
            stream: "http://setmedia.ru:8000/high5"
        }</responseData>         
        <a>По запросу "Эхо Москвы" я нашёл "Радио Подмосковные вечера". Включаю.</a>

        <q>какая сейчас станция играет</q>
        <a>Это радио "Радио Подмосковные вечера".</a>
        <q>Это радио Радио Подмосковные вечера</q>
        <a>Это радио "Радио Подмосковные вечера".</a>
        <q>это радио Рок ФМ</q>
        <a>Нет, это радио "Радио Подмосковные вечера".</a>    
        <q>выруби радио</q>
        <responseData>{ 
            intent: "radio_off"
        }</responseData>   
        <a>Радио выключено.</a>          
    </test-case>


    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D1%80%D0%BE%D0%BA?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":22671,"name":"Bells - Рок Прорыв Авангард","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"bells-rok-proryv-avangard","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://orrp.ru:8013/live_192","bitrate":192,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-20T02:03:57+01:00","updated_at":"2015-12-20T02:03:57+01:00"},{"id":22670,"name":"Bells - Рок Прорыв Фолк","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"bells-rok-proryv-folk","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://orrp.ru:8011/live_192","bitrate":192,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-20T02:03:57+01:00","updated_at":"2015-12-20T02:03:57+01:00"},{"id":38689,"name":"Рок ФМ","country":"RU","image":{"url":"https://img.dirble.com/station/38689/rokfm01.jpg","thumb":{"url":"https://img.dirble.com/station/38689/thumb_rokfm01.jpg"}},"slug":"rok-fm","website":"http://www.rockfm.ru","twitter":"","facebook":"","total_listeners":2202,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://nashe.streamr.ru/rock-128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":2202}],"created_at":"2016-11-20T05:23:06+01:00","updated_at":"2017-07-18T14:31:50+02:00"},{"id":15039,"name":"Рок Радіо","country":"UA","image":{"url":null,"thumb":{"url":null}},"slug":"rok-radio","website":"","twitter":null,"facebook":null,"total_listeners":7,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://hosting.express.net.ua:13000","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":7}],"created_at":"2015-12-06T01:45:20+01:00","updated_at":"2017-07-18T14:28:55+02:00"},{"id":26951,"name":"Радио Рок онлайн","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"radio-rok-onlain","website":"","twitter":null,"facebook":null,"total_listeners":7,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://radio-tochka.com:6090/","bitrate":24,"content_type":"audio/aacp","status":1,"listeners":2},{"stream":"http://skycast.su:2007/2420","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":5}],"created_at":"2016-02-04T21:58:06+01:00","updated_at":"2017-07-18T13:56:40+02:00"},{"id":27098,"name":"95.2 FM - Рок ФМ","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"952-fm-rok-fm","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":16,"title":"Normal Rock","description":"","slug":"normal-rock","ancestry":"2"}],"streams":[{"stream":"http://mp3.nashe.ru/rock-128.mp3","bitrate":128,"content_type":"?","status":0,"listeners":0}],"created_at":"2016-02-04T22:02:58+01:00","updated_at":"2016-02-04T22:02:58+01:00"},{"id":22734,"name":"Toma - Русский рок","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"toma-russkii-rok","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://radiotoma.com:8000/stream_128_106.mp3","bitrate":128,"content_type":"?","status":1,"listeners":0},{"stream":"http://radiotoma.com:8000/stream_32_106.mp3","bitrate":32,"content_type":"?","status":1,"listeners":0}],"created_at":"2015-12-20T02:04:13+01:00","updated_at":"2015-12-20T02:04:13+01:00"},{"id":22586,"name":"Радио Е! Рок Радіо Украина","country":"UA","image":{"url":null,"thumb":{"url":null}},"slug":"radyo-e-rok-radio-ukrayna","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://62.149.13.129:8500/e-rock_hi","bitrate":128,"content_type":"?","status":1,"listeners":0}],"created_at":"2015-12-19T01:46:05+01:00","updated_at":"2015-12-19T01:46:05+01:00"},{"id":22480,"name":"Аплюс Радио - Рок {Махачкала - Минск}","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"aplus-radio-rok-mahachkala-minsk","website":"","twitter":null,"facebook":null,"total_listeners":38,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://shoutcast.aplus.by:9000/aplus_rock_128","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":38},{"stream":"http://shoutcast.aplus.by:9000/aplus_rock_256","bitrate":128,"content_type":"audio/mpeg","status":0,"listeners":0},{"stream":"http://shoutcast.aplus.by:9000/aplus_rock_64","bitrate":64,"content_type":"audio/mpeg","status":1,"listeners":0},{"stream":"http://shoutcast.aplus.by:9000/aplus_rock_32","bitrate":32,"content_type":"?","status":1,"listeners":0}],"created_at":"2015-12-19T01:45:42+01:00","updated_at":"2017-07-18T14:01:57+02:00"},{"id":22669,"name":"Bells - Рок Прорыв Готик Симфо Радио","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"bells-rok-proryv-gotik-simfo-radio","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":2,"title":"Rock","description":"simple rock. from elvis to metallica and like hardrock as iron maiden.","slug":"rock","ancestry":null}],"streams":[{"stream":"http://orrp.ru:8010/live_192","bitrate":192,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-20T02:03:56+01:00","updated_at":"2015-12-20T02:03:56+01:00"}]</response>
    </mockData>

    <test-case>
        <q>включи радио в стиле рок</q>       
        <responseData>{ 
            action: "radioOn",
            stream: "http://nashe.streamr.ru/rock-128.mp3"
        }</responseData>         
        <a>Включаю радио в стиле рок.</a>
    </test-case> 

    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D1%85%D0%B8%D0%BF+%D1%85%D0%BE%D0%BF?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":22481,"name":"Аплюс Радио - Хип-хоп {Минск}","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"aplus-radio-hip-hop-minsk","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":20,"title":"Hip Hop","description":"","slug":"hip-hop","ancestry":"10"}],"streams":[{"stream":"http://shoutcast.aplus.by:9000/aplus_hiphop_256","bitrate":128,"content_type":"text/html; charset=utf-8","status":0,"listeners":0},{"stream":"http://shoutcast.aplus.by:9000/aplus_hiphop_128","bitrate":128,"content_type":"text/html; charset=utf-8","status":0,"listeners":0},{"stream":"http://shoutcast.aplus.by:9000/aplus_hiphop_64","bitrate":64,"content_type":"text/html; charset=utf-8","status":0,"listeners":0},{"stream":"http://shoutcast.aplus.by:9000/aplus_hiphop_32","bitrate":32,"content_type":"text/html; charset=utf-8","status":0,"listeners":0}],"created_at":"2015-12-19T01:45:43+01:00","updated_at":"2015-12-19T01:45:43+01:00"},{"id":24601,"name":"My Radio - Hip Hop","country":"UA","image":{"url":null,"thumb":{"url":null}},"slug":"my-radio-hip-hop","website":"","twitter":null,"facebook":null,"total_listeners":6,"categories":[{"id":20,"title":"Hip Hop","description":"","slug":"hip-hop","ancestry":"10"}],"streams":[{"stream":"http://music.myradio.ua/hip-hop128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":6}],"created_at":"2016-01-16T20:33:09+01:00","updated_at":"2017-07-18T14:23:24+02:00"},{"id":24582,"name":"My Radio - Trip-Hop","country":"UA","image":{"url":null,"thumb":{"url":null}},"slug":"my-radio-trip-hop","website":"","twitter":null,"facebook":null,"total_listeners":6,"categories":[{"id":14,"title":"Electronic","description":"all computeriz made.","slug":"electronic","ancestry":null}],"streams":[{"stream":"http://music.myradio.ua:8000/trip-hop128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":6}],"created_at":"2016-01-16T20:33:04+01:00","updated_at":"2017-07-18T14:29:59+02:00"},{"id":24597,"name":"My Radio - Tіlki Ukraїnske","country":"UA","image":{"url":null,"thumb":{"url":null}},"slug":"my-radio-tilki-ukrainske","website":"","twitter":null,"facebook":null,"total_listeners":23,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://music.myradio.ua:8000/onlyukraine128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":23}],"created_at":"2016-01-16T20:33:08+01:00","updated_at":"2017-07-18T14:23:24+02:00"},{"id":22767,"name":"Toma - Хиты Поп-Эстрады","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"toma-hity-pop-estrady","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://radiotoma.com:8000/stream_128_024.mp3","bitrate":128,"content_type":"?","status":1,"listeners":0},{"stream":"http://radiotoma.com:8000/stream_32_024.mp3","bitrate":32,"content_type":"?","status":1,"listeners":0}],"created_at":"2015-12-20T02:04:21+01:00","updated_at":"2015-12-20T02:04:21+01:00"},{"id":36693,"name":"Radio Record Superdiskoteka 90's","country":"RU","image":{"url":"https://img.dirble.com/station/36693/station3.jpg","thumb":{"url":"https://img.dirble.com/station/36693/thumb_station3.jpg"}},"slug":"radio-record-superdiskoteka-90s","website":"http://www.radiorecord.ru/","twitter":null,"facebook":null,"total_listeners":1654,"categories":[{"id":3,"title":"Dance","description":"dance music, the new from 80's and 90's, like bubblegum and more.","slug":"dance","ancestry":"14"}],"streams":[{"stream":"http://online.radiorecord.ru:8102/sd90_128","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":1654}],"created_at":"2016-05-10T11:38:39+02:00","updated_at":"2017-07-18T14:31:11+02:00"},{"id":38802,"name":"Радио Супердискотека 90х","country":"RU","image":{"url":"https://img.dirble.com/station/38802/SD-01.jpg","thumb":{"url":"https://img.dirble.com/station/38802/thumb_SD-01.jpg"}},"slug":"radio-superdiskoteka-90h","website":"","twitter":"","facebook":"","total_listeners":1653,"categories":[{"id":42,"title":"90s","description":"","slug":"90s","ancestry":"40"}],"streams":[{"stream":"http://air.radiorecord.ru:8102/sd90_128","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":1653}],"created_at":"2016-11-29T02:54:26+01:00","updated_at":"2017-07-18T14:31:51+02:00"}]</response>
    </mockData>

    <test-case>
        <q>включи радио хип хоп</q>     
        <a>Включаю радио в стиле хип хоп.</a>
         <responseData>{
            action: "radioOn",
            stream: "http://shoutcast.aplus.by:9000/aplus_hiphop_256"
        }</responseData>    

        <q>следующую станцию</q>
        <a>Включаю радио "Radio Record Superdiskoteka 90's".</a>
        <q>предыдущую</q>
        <a>Включаю радио "Аплюс Радио Хип хоп Минск".</a>
    </test-case>

    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D0%B2%D0%BE%D1%81%D1%8C%D0%BC%D0%B8%D0%B4%D0%B5%D1%81%D1%8F%D1%82%D1%8B%D0%B5?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[]</response>
    </mockData>

    <test-case>
        <q>включи радио восьмидесятые</q>             
        <a>восьмидесятые? Не могу найти подходящего радио.</a>
    </test-case>

    <test-case>
        <q>включи радио</q>          
        <a>Скажи название радиостанции или музыкальный жанр - я поищу нужную волну.</a>
        <q>эхо москвы</q>
        <responseData>{ 
            action: "radioOn",
            stream: "http://setmedia.ru:8000/high5"
        }</responseData>         
        <a>По запросу "Эхо Москвы" я нашёл "Радио Подмосковные вечера". Включаю.</a>

    </test-case>    


    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D0%92%D0%B5%D1%81%D1%82%D0%B8+FM?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":22188,"name":"Вести FM {Saint Petersburg}","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"vesti-fm-saint-petersburg","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":21,"title":"News","description":"","slug":"news","ancestry":"4"}],"streams":[{"stream":"http://icecast.vgtrk.cdnvideo.ru/vestifm_mp3_64kbps","bitrate":64,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-19T00:43:47Z","updated_at":"2017-07-15T11:37:24Z"},{"id":55274,"name":"Vesti FM Вести.RU","country":"RU","image":{"url":"https://img.dirble.com/station/55274/c175.png","thumb":{"url":"https://img.dirble.com/station/55274/thumb_c175.png"}},"slug":"vesti-fm-vestiru","website":"http://www.vesti.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://icecast.vgtrk.cdnvideo.ru/vestifm_mp3_128kbps","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2017-02-17T12:44:29Z","updated_at":"2017-07-15T11:29:33Z"}]</response>
    </mockData>

    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D0%92%D0%B5%D1%81%D1%82%D0%B8+FM+Saint+Petersburg?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":22188,"name":"Вести FM {Saint Petersburg}","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"vesti-fm-saint-petersburg","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":21,"title":"News","description":"","slug":"news","ancestry":"4"}],"streams":[{"stream":"http://icecast.vgtrk.cdnvideo.ru/vestifm_mp3_64kbps","bitrate":64,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-19T00:43:47Z","updated_at":"2017-07-15T11:37:24Z"},{"id":55274,"name":"Vesti FM Вести.RU","country":"RU","image":{"url":"https://img.dirble.com/station/55274/c175.png","thumb":{"url":"https://img.dirble.com/station/55274/thumb_c175.png"}},"slug":"vesti-fm-vestiru","website":"http://www.vesti.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://icecast.vgtrk.cdnvideo.ru/vestifm_mp3_128kbps","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2017-02-17T12:44:29Z","updated_at":"2017-07-15T11:29:33Z"}]</response>
    </mockData>

    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D0%92%D0%B5%D1%81%D1%82%D0%B8+FM?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":22188,"name":"Вести FM {Saint Petersburg}","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"vesti-fm-saint-petersburg","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":21,"title":"News","description":"","slug":"news","ancestry":"4"}],"streams":[{"stream":"http://icecast.vgtrk.cdnvideo.ru/vestifm_mp3_64kbps","bitrate":64,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-19T01:43:47+01:00","updated_at":"2017-07-15T13:37:24+02:00"},{"id":55274,"name":"Vesti FM Вести.RU","country":"RU","image":{"url":"https://img.dirble.com/station/55274/c175.png","thumb":{"url":"https://img.dirble.com/station/55274/thumb_c175.png"}},"slug":"vesti-fm-vestiru","website":"http://www.vesti.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://icecast.vgtrk.cdnvideo.ru/vestifm_mp3_128kbps","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2017-02-17T13:44:29+01:00","updated_at":"2017-07-15T13:29:33+02:00"}]</response>
    </mockData>

    <test-case>
        <q>включи новости</q>
        <a>Включаю "Вести FM Saint Petersburg".</a>
        <q>выключи</q>
        <a>Радио выключено.</a>
        <q>включи</q>
        <a>Включаю "Вести FM Saint Petersburg".</a>
    </test-case>

    <mockData>
        <query method="get">http://api.dirble.com/v2/search/Europa+Plus?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":5151,"name":"Europa Plus Kirov","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-kirov","website":"http://www.kirov.europaplus.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":17,"title":"Top 40","description":"","slug":"top-40","ancestry":"5"}],"streams":[{"stream":"http://212.193.249.165:8000/europapluskirov","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":7}],"created_at":"2013-10-19T23:51:50+02:00","updated_at":"2015-04-11T14:12:42+02:00"},{"id":13569,"name":"Europa Plus R\u0026B","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-rb","website":"http://www.europaplus.ru/","twitter":null,"facebook":null,"total_listeners":109,"categories":[{"id":34,"title":"R\u0026B/Urban","description":"","slug":"r-b-urban","ancestry":null}],"streams":[{"stream":"http://eprnb128server.streamr.ru:8061/eprnb128","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":109}],"created_at":"2015-09-15T20:31:31+02:00","updated_at":"2017-07-18T14:28:48+02:00"},{"id":43820,"name":"Europa Plus Light","country":"RU","image":{"url":"https://img.dirble.com/station/43820/c175.png","thumb":{"url":"https://img.dirble.com/station/43820/thumb_c175.png"}},"slug":"europa-plus-light","website":"http://uae.europaplus.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://emg02.hostingradio.ru/ep-light128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":56}],"created_at":"2017-02-17T01:34:22+01:00","updated_at":"2017-07-18T14:19:48+02:00"},{"id":43822,"name":"Europa Plus New","country":"RU","image":{"url":"https://img.dirble.com/station/43822/c175.png","thumb":{"url":"https://img.dirble.com/station/43822/thumb_c175.png"}},"slug":"europa-plus-new","website":"http://uae.europaplus.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":45,"title":"Variety","description":"Variety or various, playing more or less everything.","slug":"variety","ancestry":"44"}],"streams":[{"stream":"http://emg02.hostingradio.ru/ep-new128.mp3","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":37}],"created_at":"2017-02-17T01:34:27+01:00","updated_at":"2017-07-18T14:25:48+02:00"},{"id":19473,"name":"Europa Plus - СВЕЖЕЕ (Fresh)","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-svezhee-fresh","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://epfresh128.streamr.ru","bitrate":128,"content_type":"?","status":1,"listeners":0}],"created_at":"2015-12-07T23:56:59+01:00","updated_at":"2015-12-07T23:57:01+01:00"},{"id":13568,"name":"Europa Plus Top 40","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-top-40","website":"http://www.europaplus.ru/","twitter":null,"facebook":null,"total_listeners":661,"categories":[{"id":17,"title":"Top 40","description":"","slug":"top-40","ancestry":"5"}],"streams":[{"stream":"http://eptop128server.streamr.ru:8033/eptop128","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":661}],"created_at":"2015-09-15T20:28:40+02:00","updated_at":"2017-07-18T14:28:48+02:00"},{"id":4903,"name":"Europa Plus 995","country":"LV","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-995","website":"http://www.mixnews.lv/radio_europa_plus","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":17,"title":"Top 40","description":"","slug":"top-40","ancestry":"5"},{"id":3,"title":"Dance","description":"dance music, the new from 80's and 90's, like bubblegum and more.","slug":"dance","ancestry":"14"}],"streams":[{"stream":"http://91.90.255.111:80/995","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":28}],"created_at":"2013-10-19T23:26:33+02:00","updated_at":"2015-04-11T14:12:40+02:00"},{"id":13572,"name":"Europa Plus Dance","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-dance","website":"http://www.europaplus.ru/","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":3,"title":"Dance","description":"dance music, the new from 80's and 90's, like bubblegum and more.","slug":"dance","ancestry":"14"}],"streams":[{"stream":"http://epdance128server.streamr.ru:8035/epdance128","bitrate":128,"content_type":"?","status":1,"listeners":0}],"created_at":"2015-09-15T20:34:59+02:00","updated_at":"2015-09-15T20:38:27+02:00"},{"id":19471,"name":"Europa Plus -Top 40","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-top-40-d06c4b64-77e1-4b57-8adf-700c5b9521ee","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://eptop128.streamr.ru","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-07T23:56:59+01:00","updated_at":"2017-07-15T13:36:45+02:00"},{"id":19470,"name":"Europa  Plus - R \u0026 B","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"europa-plus-r-b","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":38,"title":"Soul","description":"","slug":"soul","ancestry":"34"}],"streams":[{"stream":"http://eprnb128.streamr.ru","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":0}],"created_at":"2015-12-07T23:56:59+01:00","updated_at":"2017-07-15T13:36:45+02:00"}]</response>
    </mockData>

    <test-case integration="true">
        <q>включи любое радио</q>
        <a>Включаю "Europa Plus R&amp;B".</a>
        <q>это европа плюс</q>
        <a>Нет, это радио "Europa Plus R&amp;B".</a>
    </test-case>

    <test-case>
        <q>включи радио в стиле рок</q>
        <a>Включаю радио в стиле рок.</a>
        <q>следующее</q>
        <a>Включаю радио "Радио Рок онлайн".</a>
        <q>следующее</q>
        <a>Включаю радио "Аплюс Радио Рок Махачкала Минск".</a>
        <q>следующее</q>
        <a>Следующей станции нет.</a>
    </test-case>


    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D0%94%D0%B5%D1%82%D1%81%D0%BA%D0%BE%D0%B5+%D1%80%D0%B0%D0%B4%D0%B8%D0%BE?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":38440,"name":"Детское радио","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"detskoe-radio-6348f26b-b9bc-499d-b75c-58f3dc5618a4","website":"","twitter":"","facebook":"","total_listeners":0,"categories":[{"id":3,"title":"Dance","description":"dance music, the new from 80's and 90's, like bubblegum and more.","slug":"dance","ancestry":"14"}],"streams":[{"stream":"http://ic7.101.ru:8000/v14_1\r\n","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":176}],"created_at":"2016-10-04T14:29:29+02:00","updated_at":"2017-07-18T14:31:40+02:00"},{"id":38699,"name":"Старое Радио - Детское","country":"RU","image":{"url":"https://img.dirble.com/station/38699/sddefault.jpg","thumb":{"url":"https://img.dirble.com/station/38699/thumb_sddefault.jpg"}},"slug":"staroe-radio-detskoe","website":"http://www.staroeradio.ru","twitter":"","facebook":"","total_listeners":41,"categories":[{"id":4,"title":"Talk \u0026 Speech","description":"talk \u0026 speech stations like normal talkshows and religous discuss.","slug":"talk-speech","ancestry":null}],"streams":[{"stream":"http://195.91.237.50:8000/detskoe128","bitrate":128,"content_type":"audio/mpeg","status":1,"listeners":41}],"created_at":"2016-11-20T05:55:51+01:00","updated_at":"2017-07-18T14:31:51+02:00"}]</response>
    </mockData>

    <test-case>
        <q>Включи детское радио</q>
        <a>Включаю "Детское радио".</a>
    </test-case>


    <mockData>
        <query method="get">http://api.dirble.com/v2/search/%D0%94%D0%BE%D1%80%D0%BE%D0%B6%D0%BD%D0%BE%D0%B5+%D1%80%D0%B0%D0%B4%D0%B8%D0%BE?token=3d4f29632942864dcde1fdde0f</query>
        <response type="json" status="200">[{"id":38711,"name":"Дорожное Радио","country":"RU","image":{"url":"https://img.dirble.com/station/38711/57b1b69df12a9.jpg","thumb":{"url":"https://img.dirble.com/station/38711/thumb_57b1b69df12a9.jpg"}},"slug":"dorozhnoe-radio","website":"https://dorognoe.ru","twitter":"","facebook":"","total_listeners":5242,"categories":[{"id":42,"title":"90s","description":"","slug":"90s","ancestry":"40"}],"streams":[{"stream":"http://dorognoe.hostingradio.ru:8000/dorognoe","bitrate":64,"content_type":"audio/mpeg","status":1,"listeners":5242}],"created_at":"2016-11-20T13:28:39+01:00","updated_at":"2017-07-18T14:31:51+02:00"},{"id":23257,"name":"105.9 FM - Дорожное радио Калининград","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"1059-fm-dorozhnoe-radio-kaliningrad","website":"","twitter":null,"facebook":null,"total_listeners":0,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://188.128.117.99:8000/dr_kln","bitrate":64,"content_type":"audio/aacp","status":1,"listeners":0}],"created_at":"2015-12-20T17:18:47+01:00","updated_at":"2015-12-20T17:18:47+01:00"},{"id":21316,"name":"96.0 FM - Дорожное радио","country":"RU","image":{"url":null,"thumb":{"url":null}},"slug":"960-fm-dorozhnoe-radio","website":"","twitter":null,"facebook":null,"total_listeners":2107,"categories":[{"id":5,"title":"Pop","description":"stations that normally play pop-music","slug":"pop","ancestry":null}],"streams":[{"stream":"http://dorognoe.hostingradio.ru:8000/radio","bitrate":256,"content_type":"audio/mpeg","status":1,"listeners":2107}],"created_at":"2015-12-18T19:39:41+01:00","updated_at":"2017-07-18T14:29:32+02:00"}]</response>
    </mockData>

    <test-case>
        <q>Включи дорожное радио</q>
        <a>Включаю "Дорожное Радио".</a>
    </test-case>


</test>   